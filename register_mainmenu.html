{% extends "index.html" %}
<html>
    <head>
      {% block head %}
        <div style="width:1250px"></div>
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename = 'css/register_mainmenu.css')}}">
        <script src="{{ url_for('static', filename = 'js/register_mainmenu.js')}}"></script>
      {% endblock head %}
    </head>

    <body>
        {% block body %}
    <div class="card">
        <h2 style="position:absolute;
        width: 1000px;
        height: 63px;
        margin-left: 110;
        top: 3px;

        font-family: 'Inter';
        font-style: normal;
        font-weight: 400;
        font-size: 25px;
        line-height: 42px;
        display: flex;
        align-items: center;
        text-align: center;
        color:#fff;">메뉴 등록하기 : {{ data.restaurant_name }}  </h2>

        <div style="position:absolute; margin-left:1180px; top:32px;">
        <img src= "{{url_for('static', filename='image/To-left.png')}}" onclick="history.back();" width="40px" height="40px"></div>
        

    </div>

    <div class ="card2">
        <div class="rectangle" >
      <form enctype="multipart/form-data" action="/view_mainmenu" method="POST">
        <h1><div style="position:absolute;left:30px; top:8%;">
            1. 메뉴명 등록</div></h1>

        <div style="position:absolute; left:30px; top:15%;">
            <input type="text" id="menu_name" class="input-field" name="menu_name" placeholder="메뉴명 입력" required></div>

        <h1><div style="position:absolute; left:30px; top:30%;">
            2.가격 등록</div></h1>

        <div style="position:absolute; left:30px; top:37%;">
            <input type="text" id= "price" class="input-field" name="menu_price" placeholder="가격 입력 (단위: 원)" required></div>



            <h1><div style="position:absolute; left:30px; top:50%;">
                3. 음식사진 등록</div></h1>
                <div class="rectangle2" style="top:63%;"></div>
            <div style="position:absolute; left: 40px; top:59%; ">
                    <div class="button">
                        <label for="image">
                            <p style="position:absolute; text-align:center;width: 100px;left:370px; border-bottom: 1px solid white; color:white; font-size:18px">파일 열기</p>
                        </label>
                    </div>
                    <input type="file" id="file" name="file" accept="image/*" onchange="setThumbnail(event);" required/>
            <div id="image_container"></div>

            </div>





        <script>
            function setThumbnail(event) {
                var reader = new FileReader();

                reader.onload = function(event) {
                var img = document.createElement("img");
                img.setAttribute("src", event.target.result);
                document.querySelector("div#image_container").appendChild(img);

                img.style.width = "280px";
                img.style.height = "174px";
                };

                reader.readAsDataURL(event.target.files[0]);
            }
            </script>
    <form action="/view_reg_mainmenu" enctype="multipart/form-data" method="POST" >
            <input type="hidden" id="restaurant_name" name="restaurant_name" value={{ data.restaurant_name }}>
    <div class="v-line"></div>
    <h1><div style="position:absolute; margin-left:37%; top:89%;">
        <button type="submit" onclick="go()" style="font-size:18px; width:121px; height: 48px;">추가</button>
        </div></h1>
        
         <script>
        function go(){
    var menu = document.getElementById("menu_name");
    var price = document.getElementById("price");
    var image = document.getElementById("file");

    if(menu.value==""){
      alert("메뉴명을 입력해주세요!")
    }
    else if(price.value==""){
      alert("가격을 입력해주세요!")
    }
    else if(image.value==""){
      alert("음식 사진을 등록해주세요!");
    }
    else{
      location.href="view_mainmenu.html"
    }

  }</script>
          </form>
          <h1><div style="position:absolute;margin-left:750px; top:7.3%; font-size: 18px; color:rgb(176, 173, 173)">
            (예시)</div></h1>
    <h1><div style="position:absolute;margin-left:580px; top:7%;">
        등록된 메인 메뉴</div></h1>
    <div class="rectangle3" style="top:15%;">
        <h1>1<br>2</h1>
        <img src="{{url_for('static', filename='image/image 8.png')}}" style="position:absolute; left:50%;top:7%;">
        <h2 style="position:absolute; text-align:center;width: 70px;left:4%;top:75%; border-bottom: 1px solid white; color:white; font-size:18px">수정</h2>
        <h3 style="position:absolute; text-align:center;width: 70px;left:13%;top:75%; color:white; font-size:18px">/</h3>
        <h2 style="position:absolute; text-align:center;width: 70px;left:22%;top:75%; border-bottom: 1px solid white; color:white; font-size:18px">삭제</h2>

    </div>
    <div class="rectangle3" style="top:53%;">
        <h1>소고기가지덮밥<br>8,500(원)</h1>
        <img src="{{url_for('static', filename='image/image 8.png')}}" style="position:absolute; left:50%;top:7%;">
        <h2 style="position:absolute; text-align:center;width: 70px;left:4%;top:75%; border-bottom: 1px solid white; color:white; font-size:18px">수정</h2>
        <h3 style="position:absolute; text-align:center;width: 70px;left:13%;top:75%; color:white; font-size:18px">/</h3>
        <h2 style="position:absolute; text-align:center;width: 70px;left:22%;top:75%; border-bottom: 1px solid white; color:white; font-size:18px">삭제</h2>

    </div>
          <form action="/view_mainmenu" enctype="multipart/form-data" method="POST" >
            <input type="hidden" id="restaurant_name" name="restaurant_name" value={{ data.restaurant_name }}>
        <h1><div style="position:absolute; left:82%; top:89%;">
            <button type="submit" onclick="location.href='/view_mainmenu'" style="font-size:18px; width:179px; height: 48px;">등록 완료하기</button>
            </div></h1></form>

    </div>
    </div>
      {% endblock body %}
</body>
</html>
